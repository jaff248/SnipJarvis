============================= test session starts ==============================
platform darwin -- Python 3.9.6, pytest-8.4.2, pluggy-1.6.0 -- /Library/Developer/CommandLineTools/usr/bin/python3
cachedir: .pytest_cache
rootdir: /Users/hadijaffery/Development/SnipJarvis/Resonate
collecting ... collected 62 items

tests/test_integration_phase2_3.py::TestPhase2Integration::test_quality_metrics_analysis PASSED [  1%]
tests/test_integration_phase2_3.py::TestPhase2Integration::test_before_after_comparison PASSED [  3%]
tests/test_integration_phase2_3.py::TestPhase2Integration::test_cache_manager_initialization PASSED [  4%]
tests/test_integration_phase2_3.py::TestPhase2Integration::test_cache_stems PASSED [  6%]
tests/test_integration_phase2_3.py::TestPhase2Integration::test_segment_caching PASSED [  8%]
tests/test_integration_phase2_3.py::TestPhase2Integration::test_cache_version_invalidation PASSED [  9%]
tests/test_integration_phase2_3.py::TestPhase3Integration::test_frequency_restoration PASSED [ 11%]
tests/test_integration_phase2_3.py::TestPhase3Integration::test_dereverberation PASSED [ 12%]
tests/test_integration_phase2_3.py::TestPhase3Integration::test_sequential_restoration PASSED [ 14%]
tests/test_integration_phase2_3.py::TestPipelineIntegration::test_pipeline_with_restoration_settings PASSED [ 16%]
tests/test_integration_phase2_3.py::TestPipelineIntegration::test_pipeline_get_info_includes_restoration PASSED [ 17%]
tests/test_integration_phase2_3.py::TestErrorHandling::test_silent_audio_metrics PASSED [ 19%]
tests/test_integration_phase2_3.py::TestErrorHandling::test_short_audio_metrics PASSED [ 20%]
tests/test_integration_phase2_3.py::TestErrorHandling::test_clipped_audio_metrics PASSED [ 22%]
tests/test_integration_phase2_3.py::TestErrorHandling::test_dereverb_empty_audio PASSED [ 24%]
tests/test_integration_phase2_3.py::TestErrorHandling::test_frequency_empty_audio PASSED [ 25%]
tests/test_integration_phase2_3.py::TestEdgeCases::test_audio_dtype_preservation PASSED [ 27%]
tests/test_integration_phase2_3.py::TestEdgeCases::test_max_amplitude_not_exceeded PASSED [ 29%]
tests/test_integration_phase2_3.py::TestEdgeCases::test_normalization_preserves_shape PASSED [ 30%]
tests/test_metrics.py::TestQualityMetrics::test_snr_estimate_clean PASSED [ 32%]
tests/test_metrics.py::TestQualityMetrics::test_snr_estimate_noisy PASSED [ 33%]
tests/test_metrics.py::TestQualityMetrics::test_loudness_lufs PASSED     [ 35%]
tests/test_metrics.py::TestQualityMetrics::test_spectral_centroid PASSED [ 37%]
tests/test_metrics.py::TestQualityMetrics::test_clipping_detection_clean PASSED [ 38%]
tests/test_metrics.py::TestQualityMetrics::test_clipping_detection_clipped PASSED [ 40%]
tests/test_metrics.py::TestQualityMetrics::test_artifact_detection PASSED [ 41%]
tests/test_metrics.py::TestQualityMetrics::test_analyze_quality PASSED   [ 43%]
tests/test_metrics.py::TestQualityMetrics::test_before_after_comparison PASSED [ 45%]
tests/test_metrics.py::TestQualityMetrics::test_edge_case_silent_audio PASSED [ 46%]
tests/test_metrics.py::TestQualityMetrics::test_edge_case_short_audio PASSED [ 48%]
tests/test_metrics.py::TestQualityMetrics::test_dtype_preservation PASSED [ 50%]
tests/test_metrics.py::TestQualityMetrics::test_clip_prevention PASSED   [ 51%]
tests/test_polish_and_enhancements.py::test_fallback_separation_robustness PASSED [ 53%]
tests/test_polish_and_enhancements.py::test_artifact_detection_comprehensive PASSED [ 54%]
tests/test_polish_and_enhancements.py::test_quality_assessment_accuracy PASSED [ 56%]
tests/test_polish_and_enhancements.py::test_mbd_enhancement PASSED       [ 58%]
tests/test_polish_and_enhancements.py::test_full_pipeline_with_all_features PASSED [ 59%]
tests/test_restoration.py::TestFrequencyRestorer::test_initialization PASSED [ 61%]
tests/test_restoration.py::TestFrequencyRestorer::test_intensity_clamping PASSED [ 62%]
tests/test_restoration.py::TestFrequencyRestorer::test_process_clean_audio PASSED [ 64%]
tests/test_restoration.py::TestFrequencyRestorer::test_process_returns_float32 PASSED [ 66%]
tests/test_restoration.py::TestFrequencyRestorer::test_intensity_zero_returns_original PASSED [ 67%]
tests/test_restoration.py::TestFrequencyRestorer::test_intensity_one_applies_full PASSED [ 69%]
tests/test_restoration.py::TestFrequencyRestorer::test_silent_audio_handling PASSED [ 70%]
tests/test_restoration.py::TestFrequencyRestorer::test_empty_audio PASSED [ 72%]
tests/test_restoration.py::TestFrequencyRestorer::test_no_clipping PASSED [ 74%]
tests/test_restoration.py::TestFrequencyRestorer::test_get_info PASSED   [ 75%]
tests/test_restoration.py::TestFrequencyRestorer::test_repr PASSED       [ 77%]
tests/test_restoration.py::TestFrequencyRestorer::test_convenience_function PASSED [ 79%]
tests/test_restoration.py::TestDereverberator::test_initialization PASSED [ 80%]
tests/test_restoration.py::TestDereverberator::test_intensity_clamping PASSED [ 82%]
tests/test_restoration.py::TestDereverberator::test_process_clean_audio PASSED [ 83%]
tests/test_restoration.py::TestDereverberator::test_process_reverberant_audio PASSED [ 85%]
tests/test_restoration.py::TestDereverberator::test_process_returns_float32 PASSED [ 87%]
tests/test_restoration.py::TestDereverberator::test_intensity_zero_returns_original PASSED [ 88%]
tests/test_restoration.py::TestDereverberator::test_silent_audio_handling PASSED [ 90%]
tests/test_restoration.py::TestDereverberator::test_empty_audio PASSED   [ 91%]
tests/test_restoration.py::TestDereverberator::test_no_clipping PASSED   [ 93%]
tests/test_restoration.py::TestDereverberator::test_get_info PASSED      [ 95%]
tests/test_restoration.py::TestDereverberator::test_repr PASSED          [ 96%]
tests/test_restoration.py::TestDereverberator::test_convenience_function PASSED [ 98%]
tests/test_restoration.py::TestRestorationIntegration::test_both_restorers_sequential PASSED [100%]

============================== 62 passed in 2.97s ==============================
